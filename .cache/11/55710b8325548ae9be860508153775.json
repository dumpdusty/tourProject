{"id":"ZYRF","dependencies":[{"name":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/package.json","includedInParent":true,"mtime":1728790447493},{"name":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/package.json","includedInParent":true,"mtime":1728787751855},{"name":"./CryptoProvider.js","loc":{"line":4,"column":36,"index":152},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/crypto/CryptoProvider.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SubtleCryptoProvider=void 0;const t=require(\"./CryptoProvider.js\");class e extends t.CryptoProvider{constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(e,r){throw new t.CryptoProviderOnlySupportsAsyncError(\"SubtleCryptoProvider cannot be used in a synchronous context.\")}async computeHMACSignatureAsync(t,e){const o=new TextEncoder,n=await this.subtleCrypto.importKey(\"raw\",o.encode(e),{name:\"HMAC\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]),s=await this.subtleCrypto.sign(\"hmac\",n,o.encode(t)),i=new Uint8Array(s),a=new Array(i.length);for(let c=0;c<i.length;c++)a[c]=r[i[c]];return a.join(\"\")}}exports.SubtleCryptoProvider=e;const r=new Array(256);for(let o=0;o<r.length;o++)r[o]=o.toString(16).padStart(2,\"0\");"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":20}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":35}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":56}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":57}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":3,"column":0},"generated":{"line":1,"column":76}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":3,"column":0},"generated":{"line":1,"column":102}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":4,"column":0},"generated":{"line":1,"column":104}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":4,"column":0},"generated":{"line":1,"column":110}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":4,"column":0},"generated":{"line":1,"column":112}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":4,"column":0},"generated":{"line":1,"column":120}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":10,"column":0},"generated":{"line":1,"column":143}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":10,"column":0},"generated":{"line":1,"column":149}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":10,"column":0},"generated":{"line":1,"column":159}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":10,"column":0},"generated":{"line":1,"column":161}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":11,"column":0},"generated":{"line":1,"column":176}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":11,"column":0},"generated":{"line":1,"column":188}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":12,"column":0},"generated":{"line":1,"column":191}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":16,"column":0},"generated":{"line":1,"column":199}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":16,"column":0},"generated":{"line":1,"column":204}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":16,"column":0},"generated":{"line":1,"column":217}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":16,"column":0},"generated":{"line":1,"column":220}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":16,"column":0},"generated":{"line":1,"column":227}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":19,"column":0},"generated":{"line":1,"column":234}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":19,"column":0},"generated":{"line":1,"column":255}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":19,"column":0},"generated":{"line":1,"column":257}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":20,"column":0},"generated":{"line":1,"column":260}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":20,"column":0},"generated":{"line":1,"column":266}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":20,"column":0},"generated":{"line":1,"column":270}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":20,"column":0},"generated":{"line":1,"column":272}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":20,"column":0},"generated":{"line":1,"column":309}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":23,"column":0},"generated":{"line":1,"column":374}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":23,"column":0},"generated":{"line":1,"column":406}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":23,"column":0},"generated":{"line":1,"column":408}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":24,"column":0},"generated":{"line":1,"column":411}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":24,"column":0},"generated":{"line":1,"column":417}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":24,"column":0},"generated":{"line":1,"column":419}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":24,"column":0},"generated":{"line":1,"column":423}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":435}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":443}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":448}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":461}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":471}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":477}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":479}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":486}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":25,"column":0},"generated":{"line":1,"column":489}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":26,"column":0},"generated":{"line":1,"column":490}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":26,"column":0},"generated":{"line":1,"column":495}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":27,"column":0},"generated":{"line":1,"column":502}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":27,"column":0},"generated":{"line":1,"column":507}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":27,"column":0},"generated":{"line":1,"column":508}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":27,"column":0},"generated":{"line":1,"column":513}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":28,"column":0},"generated":{"line":1,"column":526}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":28,"column":0},"generated":{"line":1,"column":528}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":28,"column":0},"generated":{"line":1,"column":529}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":538}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":546}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":551}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":564}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":569}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":576}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":578}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":580}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":29,"column":0},"generated":{"line":1,"column":587}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":33,"column":0},"generated":{"line":1,"column":591}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":33,"column":0},"generated":{"line":1,"column":593}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":33,"column":0},"generated":{"line":1,"column":597}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":33,"column":0},"generated":{"line":1,"column":608}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":34,"column":0},"generated":{"line":1,"column":611}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":34,"column":0},"generated":{"line":1,"column":613}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":34,"column":0},"generated":{"line":1,"column":617}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":34,"column":0},"generated":{"line":1,"column":623}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":34,"column":0},"generated":{"line":1,"column":625}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":633}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":637}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":641}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":643}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":645}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":647}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":649}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":35,"column":0},"generated":{"line":1,"column":656}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":36,"column":0},"generated":{"line":1,"column":660}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":36,"column":0},"generated":{"line":1,"column":662}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":36,"column":0},"generated":{"line":1,"column":665}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":36,"column":0},"generated":{"line":1,"column":667}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":36,"column":0},"generated":{"line":1,"column":669}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":38,"column":0},"generated":{"line":1,"column":673}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":38,"column":0},"generated":{"line":1,"column":680}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":38,"column":0},"generated":{"line":1,"column":682}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":38,"column":0},"generated":{"line":1,"column":687}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":41,"column":0},"generated":{"line":1,"column":692}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":41,"column":0},"generated":{"line":1,"column":700}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":41,"column":0},"generated":{"line":1,"column":721}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":44,"column":0},"generated":{"line":1,"column":723}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":44,"column":0},"generated":{"line":1,"column":729}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":44,"column":0},"generated":{"line":1,"column":731}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":44,"column":0},"generated":{"line":1,"column":735}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":44,"column":0},"generated":{"line":1,"column":741}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":746}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":750}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":754}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":756}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":758}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":760}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":762}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":45,"column":0},"generated":{"line":1,"column":769}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":773}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":775}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":778}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":780}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":789}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":793}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":802}},{"source":"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js","original":{"line":46,"column":0},"generated":{"line":1,"column":804}}],"sources":{"../../node_modules/stripe/cjs/crypto/SubtleCryptoProvider.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubtleCryptoProvider = void 0;\nconst CryptoProvider_js_1 = require(\"./CryptoProvider.js\");\n/**\n * `CryptoProvider which uses the SubtleCrypto interface of the Web Crypto API.\n *\n * This only supports asynchronous operations.\n */\nclass SubtleCryptoProvider extends CryptoProvider_js_1.CryptoProvider {\n    constructor(subtleCrypto) {\n        super();\n        // If no subtle crypto is interface, default to the global namespace. This\n        // is to allow custom interfaces (eg. using the Node webcrypto interface in\n        // tests).\n        this.subtleCrypto = subtleCrypto || crypto.subtle;\n    }\n    /** @override */\n    computeHMACSignature(payload, secret) {\n        throw new CryptoProvider_js_1.CryptoProviderOnlySupportsAsyncError('SubtleCryptoProvider cannot be used in a synchronous context.');\n    }\n    /** @override */\n    async computeHMACSignatureAsync(payload, secret) {\n        const encoder = new TextEncoder();\n        const key = await this.subtleCrypto.importKey('raw', encoder.encode(secret), {\n            name: 'HMAC',\n            hash: { name: 'SHA-256' },\n        }, false, ['sign']);\n        const signatureBuffer = await this.subtleCrypto.sign('hmac', key, encoder.encode(payload));\n        // crypto.subtle returns the signature in base64 format. This must be\n        // encoded in hex to match the CryptoProvider contract. We map each byte in\n        // the buffer to its corresponding hex octet and then combine into a string.\n        const signatureBytes = new Uint8Array(signatureBuffer);\n        const signatureHexCodes = new Array(signatureBytes.length);\n        for (let i = 0; i < signatureBytes.length; i++) {\n            signatureHexCodes[i] = byteHexMapping[signatureBytes[i]];\n        }\n        return signatureHexCodes.join('');\n    }\n}\nexports.SubtleCryptoProvider = SubtleCryptoProvider;\n// Cached mapping of byte to hex representation. We do this once to avoid re-\n// computing every time we need to convert the result of a signature to hex.\nconst byteHexMapping = new Array(256);\nfor (let i = 0; i < byteHexMapping.length; i++) {\n    byteHexMapping[i] = i.toString(16).padStart(2, '0');\n}\n"},"lineCount":null}},"error":null,"hash":"3491e06d70b6c20dbc7e69ec8945ec3c","cacheData":{"env":{}}}