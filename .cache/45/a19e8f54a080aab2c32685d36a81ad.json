{"id":"XO6B","dependencies":[{"name":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/package.json","includedInParent":true,"mtime":1728790447493},{"name":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/package.json","includedInParent":true,"mtime":1728787751855},{"name":"crypto","loc":{"line":4,"column":23,"index":140},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/crypto-browserify/index.js"},{"name":"events","loc":{"line":5,"column":25,"index":176},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/events/events.js"},{"name":"../crypto/NodeCryptoProvider.js","loc":{"line":6,"column":40,"index":227},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/crypto/NodeCryptoProvider.js"},{"name":"../net/NodeHttpClient.js","loc":{"line":7,"column":36,"index":299},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/net/NodeHttpClient.js"},{"name":"./PlatformFunctions.js","loc":{"line":8,"column":39,"index":367},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/PlatformFunctions.js"},{"name":"../Error.js","loc":{"line":9,"column":27,"index":421},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/Error.js"},{"name":"../utils.js","loc":{"line":10,"column":27,"index":464},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/utils.js"},{"name":"child_process","loc":{"line":11,"column":32,"index":512},"parent":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/stripe/cjs/platform/NodePlatformFunctions.js","resolved":"/Users/michael120288/WebstormProjects/nodeProjectDemo/complete-node-bootcamp/4-natours/starter/node_modules/parcel-bundler/src/builtins/_empty.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.NodePlatformFunctions=void 0;const e=require(\"crypto\"),r=require(\"events\"),t=require(\"../crypto/NodeCryptoProvider.js\"),n=require(\"../net/NodeHttpClient.js\"),o=require(\"./PlatformFunctions.js\"),i=require(\"../Error.js\"),s=require(\"../utils.js\"),u=require(\"child_process\");class a extends i.StripeError{}class c extends o.PlatformFunctions{constructor(){super(),this._exec=u.exec,this._UNAME_CACHE=null}uuid4(){return e.randomUUID?e.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,r)=>{try{this._exec(\"uname -a\",(r,t)=>{if(r)return e(null);e(t)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(r,t){if(!r||!t)throw new Error(\"secureCompare must receive two arguments\");if(r.length!==t.length)return!1;if(e.timingSafeEqual){const n=new TextEncoder,o=n.encode(r),i=n.encode(t);return e.timingSafeEqual(o,i)}return super.secureCompare(r,t)}createEmitter(){return new r.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof r.EventEmitter))return Promise.resolve(e);const t=[];return new Promise((r,n)=>{e.file.data.on(\"data\",e=>{t.push(e)}).once(\"end\",()=>{const n=Object.assign({},e);n.file.data=(0,s.concat)(t),r(n)}).on(\"error\",e=>{n(new a({message:\"An error occurred while attempting to process the file for upload.\",detail:e}))})})}createNodeHttpClient(e){return new n.NodeHttpClient(e)}createDefaultHttpClient(){return new n.NodeHttpClient}createNodeCryptoProvider(){return new t.NodeCryptoProvider}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}exports.NodePlatformFunctions=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":20}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":35}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":56}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":57}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":3,"column":0},"generated":{"line":1,"column":76}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":3,"column":0},"generated":{"line":1,"column":103}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":4,"column":0},"generated":{"line":1,"column":105}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":4,"column":0},"generated":{"line":1,"column":111}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":4,"column":0},"generated":{"line":1,"column":113}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":4,"column":0},"generated":{"line":1,"column":121}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":5,"column":0},"generated":{"line":1,"column":131}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":5,"column":0},"generated":{"line":1,"column":133}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":5,"column":0},"generated":{"line":1,"column":141}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":6,"column":0},"generated":{"line":1,"column":151}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":6,"column":0},"generated":{"line":1,"column":153}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":6,"column":0},"generated":{"line":1,"column":161}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":7,"column":0},"generated":{"line":1,"column":196}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":7,"column":0},"generated":{"line":1,"column":198}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":7,"column":0},"generated":{"line":1,"column":206}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":8,"column":0},"generated":{"line":1,"column":234}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":8,"column":0},"generated":{"line":1,"column":236}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":8,"column":0},"generated":{"line":1,"column":244}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":9,"column":0},"generated":{"line":1,"column":270}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":9,"column":0},"generated":{"line":1,"column":272}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":9,"column":0},"generated":{"line":1,"column":280}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":10,"column":0},"generated":{"line":1,"column":295}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":10,"column":0},"generated":{"line":1,"column":297}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":10,"column":0},"generated":{"line":1,"column":305}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":11,"column":0},"generated":{"line":1,"column":320}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":11,"column":0},"generated":{"line":1,"column":322}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":11,"column":0},"generated":{"line":1,"column":330}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":12,"column":0},"generated":{"line":1,"column":347}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":12,"column":0},"generated":{"line":1,"column":353}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":12,"column":0},"generated":{"line":1,"column":363}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":12,"column":0},"generated":{"line":1,"column":365}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":17,"column":0},"generated":{"line":1,"column":378}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":17,"column":0},"generated":{"line":1,"column":384}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":17,"column":0},"generated":{"line":1,"column":394}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":17,"column":0},"generated":{"line":1,"column":396}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":18,"column":0},"generated":{"line":1,"column":414}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":19,"column":0},"generated":{"line":1,"column":428}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":20,"column":0},"generated":{"line":1,"column":436}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":20,"column":0},"generated":{"line":1,"column":441}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":20,"column":0},"generated":{"line":1,"column":447}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":20,"column":0},"generated":{"line":1,"column":449}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":21,"column":0},"generated":{"line":1,"column":454}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":21,"column":0},"generated":{"line":1,"column":459}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":21,"column":0},"generated":{"line":1,"column":472}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":24,"column":0},"generated":{"line":1,"column":477}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":26,"column":0},"generated":{"line":1,"column":485}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":26,"column":0},"generated":{"line":1,"column":492}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":26,"column":0},"generated":{"line":1,"column":494}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":27,"column":0},"generated":{"line":1,"column":505}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":27,"column":0},"generated":{"line":1,"column":507}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":29,"column":0},"generated":{"line":1,"column":520}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":29,"column":0},"generated":{"line":1,"column":526}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":40,"column":0},"generated":{"line":1,"column":534}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":56,"column":0},"generated":{"line":1,"column":545}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":41,"column":0},"generated":{"line":1,"column":552}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":41,"column":0},"generated":{"line":1,"column":557}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":572}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":577}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":590}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":594}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":602}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":603}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":42,"column":0},"generated":{"line":1,"column":605}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":43,"column":0},"generated":{"line":1,"column":610}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":614}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":619}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":625}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":636}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":637}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":44,"column":0},"generated":{"line":1,"column":639}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":45,"column":0},"generated":{"line":1,"column":644}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":45,"column":0},"generated":{"line":1,"column":647}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":46,"column":0},"generated":{"line":1,"column":649}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":46,"column":0},"generated":{"line":1,"column":656}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":46,"column":0},"generated":{"line":1,"column":658}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":48,"column":0},"generated":{"line":1,"column":664}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":48,"column":0},"generated":{"line":1,"column":666}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":51,"column":0},"generated":{"line":1,"column":671}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":51,"column":0},"generated":{"line":1,"column":677}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":52,"column":0},"generated":{"line":1,"column":680}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":52,"column":0},"generated":{"line":1,"column":682}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":56,"column":0},"generated":{"line":1,"column":692}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":56,"column":0},"generated":{"line":1,"column":697}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":62,"column":0},"generated":{"line":1,"column":710}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":62,"column":0},"generated":{"line":1,"column":724}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":62,"column":0},"generated":{"line":1,"column":726}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":63,"column":0},"generated":{"line":1,"column":729}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":63,"column":0},"generated":{"line":1,"column":733}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":63,"column":0},"generated":{"line":1,"column":737}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":64,"column":0},"generated":{"line":1,"column":739}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":64,"column":0},"generated":{"line":1,"column":745}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":64,"column":0},"generated":{"line":1,"column":749}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":64,"column":0},"generated":{"line":1,"column":755}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":68,"column":0},"generated":{"line":1,"column":799}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":68,"column":0},"generated":{"line":1,"column":802}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":68,"column":0},"generated":{"line":1,"column":804}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":68,"column":0},"generated":{"line":1,"column":813}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":68,"column":0},"generated":{"line":1,"column":815}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":69,"column":0},"generated":{"line":1,"column":822}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":69,"column":0},"generated":{"line":1,"column":829}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":73,"column":0},"generated":{"line":1,"column":831}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":73,"column":0},"generated":{"line":1,"column":834}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":73,"column":0},"generated":{"line":1,"column":836}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":73,"column":0},"generated":{"line":1,"column":852}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":74,"column":0},"generated":{"line":1,"column":853}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":74,"column":0},"generated":{"line":1,"column":859}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":74,"column":0},"generated":{"line":1,"column":861}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":74,"column":0},"generated":{"line":1,"column":865}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":75,"column":0},"generated":{"line":1,"column":877}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":75,"column":0},"generated":{"line":1,"column":879}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":75,"column":0},"generated":{"line":1,"column":881}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":75,"column":0},"generated":{"line":1,"column":888}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":76,"column":0},"generated":{"line":1,"column":891}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":76,"column":0},"generated":{"line":1,"column":893}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":76,"column":0},"generated":{"line":1,"column":895}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":76,"column":0},"generated":{"line":1,"column":902}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":77,"column":0},"generated":{"line":1,"column":905}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":77,"column":0},"generated":{"line":1,"column":912}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":77,"column":0},"generated":{"line":1,"column":914}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":77,"column":0},"generated":{"line":1,"column":930}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":77,"column":0},"generated":{"line":1,"column":932}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":79,"column":0},"generated":{"line":1,"column":935}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":79,"column":0},"generated":{"line":1,"column":942}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":79,"column":0},"generated":{"line":1,"column":948}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":79,"column":0},"generated":{"line":1,"column":962}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":79,"column":0},"generated":{"line":1,"column":964}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":81,"column":0},"generated":{"line":1,"column":967}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":82,"column":0},"generated":{"line":1,"column":983}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":82,"column":0},"generated":{"line":1,"column":990}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":82,"column":0},"generated":{"line":1,"column":994}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":82,"column":0},"generated":{"line":1,"column":996}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1009}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1023}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1026}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1031}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1033}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1038}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1054}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1056}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1070}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1077}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1085}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1093}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1096}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1102}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":89,"column":0},"generated":{"line":1,"column":1104}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1107}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1114}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1118}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1126}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1127}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1129}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1134}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1136}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1141}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1146}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1149}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1156}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1160}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1162}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1167}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1172}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1177}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1183}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1188}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1194}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1196}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1203}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1210}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":97,"column":0},"generated":{"line":1,"column":1213}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1216}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1218}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1223}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1229}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1231}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1233}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1241}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1244}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1246}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1251}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1254}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1262}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1266}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1268}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1272}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1274}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":103,"column":0},"generated":{"line":1,"column":1275}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":103,"column":0},"generated":{"line":1,"column":1283}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":104,"column":0},"generated":{"line":1,"column":1352}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":104,"column":0},"generated":{"line":1,"column":1359}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1368}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1389}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1392}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1399}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1403}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1405}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1420}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1423}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1449}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1456}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1460}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1462}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1477}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1504}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1511}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1515}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1517}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":122,"column":0},"generated":{"line":1,"column":1536}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":123,"column":0},"generated":{"line":1,"column":1566}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":123,"column":0},"generated":{"line":1,"column":1573}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":123,"column":0},"generated":{"line":1,"column":1578}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":126,"column":0},"generated":{"line":1,"column":1606}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":126,"column":0},"generated":{"line":1,"column":1614}},{"source":"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js","original":{"line":126,"column":0},"generated":{"line":1,"column":1636}}],"sources":{"../../node_modules/stripe/cjs/platform/NodePlatformFunctions.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodePlatformFunctions = void 0;\nconst crypto = require(\"crypto\");\nconst events_1 = require(\"events\");\nconst NodeCryptoProvider_js_1 = require(\"../crypto/NodeCryptoProvider.js\");\nconst NodeHttpClient_js_1 = require(\"../net/NodeHttpClient.js\");\nconst PlatformFunctions_js_1 = require(\"./PlatformFunctions.js\");\nconst Error_js_1 = require(\"../Error.js\");\nconst utils_js_1 = require(\"../utils.js\");\nconst child_process_1 = require(\"child_process\");\nclass StreamProcessingError extends Error_js_1.StripeError {\n}\n/**\n * Specializes WebPlatformFunctions using APIs available in Node.js.\n */\nclass NodePlatformFunctions extends PlatformFunctions_js_1.PlatformFunctions {\n    constructor() {\n        super();\n        this._exec = child_process_1.exec;\n        this._UNAME_CACHE = null;\n    }\n    /** @override */\n    uuid4() {\n        // available in: v14.17.x+\n        if (crypto.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return super.uuid4();\n    }\n    /**\n     * @override\n     * Node's built in `exec` function sometimes throws outright,\n     * and sometimes has a callback with an error,\n     * depending on the type of error.\n     *\n     * This unifies that interface by resolving with a null uname\n     * if an error is encountered.\n     */\n    getUname() {\n        if (!this._UNAME_CACHE) {\n            this._UNAME_CACHE = new Promise((resolve, reject) => {\n                try {\n                    this._exec('uname -a', (err, uname) => {\n                        if (err) {\n                            return resolve(null);\n                        }\n                        resolve(uname);\n                    });\n                }\n                catch (e) {\n                    resolve(null);\n                }\n            });\n        }\n        return this._UNAME_CACHE;\n    }\n    /**\n     * @override\n     * Secure compare, from https://github.com/freewil/scmp\n     */\n    secureCompare(a, b) {\n        if (!a || !b) {\n            throw new Error('secureCompare must receive two arguments');\n        }\n        // return early here if buffer lengths are not equal since timingSafeEqual\n        // will throw if buffer lengths are not equal\n        if (a.length !== b.length) {\n            return false;\n        }\n        // use crypto.timingSafeEqual if available (since Node.js v6.6.0),\n        // otherwise use our own scmp-internal function.\n        if (crypto.timingSafeEqual) {\n            const textEncoder = new TextEncoder();\n            const aEncoded = textEncoder.encode(a);\n            const bEncoded = textEncoder.encode(b);\n            return crypto.timingSafeEqual(aEncoded, bEncoded);\n        }\n        return super.secureCompare(a, b);\n    }\n    createEmitter() {\n        return new events_1.EventEmitter();\n    }\n    /** @override */\n    tryBufferData(data) {\n        if (!(data.file.data instanceof events_1.EventEmitter)) {\n            return Promise.resolve(data);\n        }\n        const bufferArray = [];\n        return new Promise((resolve, reject) => {\n            data.file.data\n                .on('data', (line) => {\n                bufferArray.push(line);\n            })\n                .once('end', () => {\n                // @ts-ignore\n                const bufferData = Object.assign({}, data);\n                bufferData.file.data = (0, utils_js_1.concat)(bufferArray);\n                resolve(bufferData);\n            })\n                .on('error', (err) => {\n                reject(new StreamProcessingError({\n                    message: 'An error occurred while attempting to process the file for upload.',\n                    detail: err,\n                }));\n            });\n        });\n    }\n    /** @override */\n    createNodeHttpClient(agent) {\n        return new NodeHttpClient_js_1.NodeHttpClient(agent);\n    }\n    /** @override */\n    createDefaultHttpClient() {\n        return new NodeHttpClient_js_1.NodeHttpClient();\n    }\n    /** @override */\n    createNodeCryptoProvider() {\n        return new NodeCryptoProvider_js_1.NodeCryptoProvider();\n    }\n    /** @override */\n    createDefaultCryptoProvider() {\n        return this.createNodeCryptoProvider();\n    }\n}\nexports.NodePlatformFunctions = NodePlatformFunctions;\n"},"lineCount":null}},"error":null,"hash":"154a27c0cfde3fad76cd18603b08b4df","cacheData":{"env":{}}}